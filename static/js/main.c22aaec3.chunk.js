(this["webpackJsonpgoit-react-hooks-hw-04-image-finder"]=this["webpackJsonpgoit-react-hooks-hw-04-image-finder"]||[]).push([[0],{15:function(e,t,a){e.exports={box:"ImageDataView_box__2AL17",gallery:"ImageDataView_gallery__15dzC",galleryItem:"ImageDataView_galleryItem__1C8Ln"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__19iNy",modal:"Modal_modal__2NUI5"}},27:function(e,t,a){e.exports={image:"ImageGalleryItem_image__3EsyI"}},30:function(e,t,a){e.exports={loader:"ImagePending_loader__ZlQ9j"}},32:function(e,t,a){e.exports={enterData:"ImageGallery_enterData__VQeMT",animate_grow:"ImageGallery_animate_grow__1QDUs",form_button:"ImageGallery_form_button___qxiH"}},34:function(e,t,a){e.exports={toTop:"ScrollUp_toTop__3JgIw"}},35:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2aQmA"}},36:function(e,t,a){e.exports={section:"Section_section__39y8H"}},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(6),c=a.n(o),s=a(4),i=a(5),l=a(7),u=a.n(l),m=a(17),b=a(14),j=a(2),d=a.n(j),g=a(27),p=a.n(g),f=a(1);function h(e){var t=e.smallImg,a=e.largeImg,r=e.alt,n=e.openModal;return Object(f.jsx)("img",{onClick:function(){return n(a,r)},className:p.a.image,src:t,alt:r})}d.a.propTypes={smallImg:d.a.string.isRequired,largeImg:d.a.string.isRequired,alt:d.a.string.isRequired,openModal:d.a.func.isRequired};var _=a(28);function x(e){var t=e.imagesArray,a=e.loadMore;return Object(f.jsx)(_.a,{dataLength:t.length,next:a,hasMore:!0})}var O=a(15),v=a.n(O);function y(e){var t=e.imagesArray,a=e.openModal,r=e.loadMore;return Object(f.jsxs)("div",{div:!0,className:v.a.box,children:[Object(f.jsx)("ul",{className:v.a.gallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL,o=e.tags;return Object(f.jsx)("li",{className:v.a.galleryItem,children:Object(f.jsx)(h,{smallImg:r,largeImg:n,alt:o,openModal:a})},t)}))}),Object(f.jsx)(x,{imagesArray:t,loadMore:r})]})}var I=a(29),w=a.n(I),S=a(30),N=a.n(S);function M(){return Object(f.jsx)(w.a,{className:N.a.loader,type:"Puff",color:"#47acce",height:500,width:500,timeout:2e3})}var k=a(31),F=a.n(k).a.create({baseURL:"https://pixabay.com/api/",timeout:1e3,params:{key:"23833327-aee66bbf86a23c3fb1d188dcb",per_page:12,image_type:"photo",orientation:"horizontal"}});function C(e,t){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F("",{params:{q:t,page:a}});case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),i.b.error("Nothing found like ".concat(t));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var D=a(32),E=a.n(D),q="idle",R="pending",T="resolved",U="rejected";function A(e){var t=e.imageName,a=e.openModal,n=Object(r.useState)([]),o=Object(s.a)(n,2),c=o[0],l=o[1],j=Object(r.useState)(null),d=Object(s.a)(j,2),g=d[0],p=d[1],h=Object(r.useState)(1),_=Object(s.a)(h,2),x=_[0],O=_[1],v=Object(r.useState)(q),I=Object(s.a)(v,2),w=I[0],S=I[1];Object(r.useEffect)((function(){if(t){t!==g&&(O(1),l([]));var e=function(){var e=Object(b.a)(u.a.mark((function e(){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(R),e.next=3,C(t,x);case 3:if(a=e.sent,r=a.hits,n=a.totalHits,0!==r.length||0!==n){e.next=9;break}return i.b.error("Sorry nothing found"),e.abrupt("return");case 9:if(0!==r.length||0===n){e.next=12;break}return i.b.warning("Nothing more found"),e.abrupt("return");case 12:p(t),l([].concat(Object(m.a)(c),Object(m.a)(r))),S(T);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t,g,x]);return Object(f.jsxs)(f.Fragment,{children:[w===q&&Object(f.jsx)("h2",{className:E.a.enterData,children:"Pixabay"}),w===R&&Object(f.jsx)(M,{}),(w===T||w===R)&&Object(f.jsx)(y,{imagesArray:c,openModal:a,loadMore:function(){O((function(e){return e+1}))}}),w===U&&i.b.error("Ooops")]})}var G=a(16),P=a.n(G),H=document.querySelector("#modal-root");function Q(e){var t=e.onClose,a=e.modalImg;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()},c=a.src,s=a.alt;return Object(o.createPortal)(Object(f.jsx)("div",{className:P.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(f.jsx)("div",{className:P.a.modal,children:Object(f.jsx)("img",{src:c,alt:s})})}),H)}var V=a(33),J=a.n(V),z=(a(26),a(34)),B=a.n(z);function Z(){return Object(f.jsx)(J.a,{showUnder:160,duration:500,style:{right:60,bottom:42},children:Object(f.jsx)("div",{className:B.a.toTop})})}var K=a(37),W=a(9),X=a.n(W);function Y(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(s.a)(a,2),o=n[0],c=n[1];return Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c("")):i.b.warning("Enter data")},className:X.a.searchForm,autoComplete:"off",children:[Object(f.jsx)("input",{className:X.a.input,type:"text",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){c(e.currentTarget.value.toLowerCase())}}),Object(f.jsx)("button",{type:"submit",className:X.a.button,children:Object(f.jsx)(K.a,{className:X.a.searchIcon})})]})}var $=a(35),ee=a.n($);function te(e){var t=e.onSubmit;return Object(f.jsx)("header",{className:ee.a.searchbar,children:Object(f.jsx)(Y,{onSubmit:t})})}var ae=a(36),re=a.n(ae);function ne(e){var t=e.children;return Object(f.jsx)("section",{className:re.a.section,children:t})}function oe(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(!1),c=Object(s.a)(o,2),l=c[0],u=c[1],m=Object(r.useState)({src:"",alt:""}),b=Object(s.a)(m,2),j=b[0],d=b[1],g=function(e,t){u(!l),d({src:e,alt:t})};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ne,{children:Object(f.jsx)(te,{onSubmit:function(e){n(e)}})}),Object(f.jsxs)(ne,{children:[Object(f.jsx)(A,{imageName:a,openModal:g}),Object(f.jsx)(Z,{})]}),l&&Object(f.jsx)(Q,{onClose:g,modalImg:j}),Object(f.jsx)(i.a,{autoClose:2e3})]})}a(83);c.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(oe,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__1G9Ho",input:"SearchForm_input__1xFPa",button:"SearchForm_button__p5ip3",label:"SearchForm_label__2yIwj",searchIcon:"SearchForm_searchIcon__1g5-F"}}},[[84,1,2]]]);
//# sourceMappingURL=main.c22aaec3.chunk.js.map