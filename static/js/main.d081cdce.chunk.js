(this["webpackJsonpgoit-react-hooks-hw-04-image-finder"]=this["webpackJsonpgoit-react-hooks-hw-04-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__1G9Ho",input:"SearchForm_input__1xFPa",button:"SearchForm_button__p5ip3",label:"SearchForm_label__2yIwj",searchIcon:"SearchForm_searchIcon__1g5-F"}},16:function(e,t,a){e.exports={overlay:"Modal_overlay__19iNy",modal:"Modal_modal__2NUI5",buttonClose:"Modal_buttonClose__1hytb",iconClose:"Modal_iconClose__3gL5v"}},17:function(e,t,a){e.exports={box:"ImageDataView_box__2AL17",gallery:"ImageDataView_gallery__15dzC",galleryItem:"ImageDataView_galleryItem__1C8Ln"}},28:function(e,t,a){e.exports={image:"ImageGalleryItem_image__3EsyI"}},31:function(e,t,a){e.exports={loader:"ImagePending_loader__ZlQ9j"}},33:function(e,t,a){e.exports={enterData:"ImageGallery_enterData__VQeMT",animate_grow:"ImageGallery_animate_grow__1QDUs",form_button:"ImageGallery_form_button___qxiH"}},36:function(e,t,a){e.exports={toTop:"ScrollUp_toTop__3JgIw"}},38:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__2aQmA"}},39:function(e,t,a){e.exports={section:"Section_section__39y8H"}},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(7),c=a.n(o),s=a(6),i=a(5),l=a(8),u=a.n(l),b=a(18),m=a(15),j=a(3),d=a.n(j),g=a(28),h=a.n(g),p=a(2);function f(e){var t=e.smallImg,a=e.largeImg,n=e.alt,r=e.openModal;return Object(p.jsx)("img",{onClick:function(){return r(a,n)},className:h.a.image,src:t,alt:n})}d.a.propTypes={smallImg:d.a.string.isRequired,largeImg:d.a.string.isRequired,alt:d.a.string.isRequired,openModal:d.a.func.isRequired};var _=a(29);function O(e){var t=e.imagesArray,a=e.loadMore;return Object(p.jsx)(_.a,{dataLength:t.length,next:a,hasMore:!0})}var x=a(17),v=a.n(x);function y(e){var t=e.imagesArray,a=e.openModal,n=e.loadMore;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("ul",{className:v.a.gallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,o=e.tags;return Object(p.jsx)("li",{className:v.a.galleryItem,children:Object(p.jsx)(f,{smallImg:n,largeImg:r,alt:o,openModal:a})},t)}))}),Object(p.jsx)(O,{imagesArray:t,loadMore:n})]})}var w=a(30),I=a.n(w),S=a(31),N=a.n(S);function M(){return Object(p.jsx)(I.a,{className:N.a.loader,type:"Puff",color:"#47acce",height:500,width:500,timeout:3e3})}var C=a(32),k=a.n(C).a.create({baseURL:"https://pixabay.com/api/",timeout:1e3,params:{key:"23833327-aee66bbf86a23c3fb1d188dcb",per_page:12,image_type:"photo",orientation:"horizontal"}});function F(e,t){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("",{params:{q:t,page:a}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),i.b.error("Nothing found like ".concat(t));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var D=a(33),E=a.n(D),q="idle",R="pending",T="resolved",U="rejected";function A(e){var t=e.imageName,a=e.openModal,r=Object(n.useState)([]),o=Object(s.a)(r,2),c=o[0],l=o[1],j=Object(n.useState)(null),d=Object(s.a)(j,2),g=d[0],h=d[1],f=Object(n.useState)(1),_=Object(s.a)(f,2),O=_[0],x=_[1],v=Object(n.useState)(q),w=Object(s.a)(v,2),I=w[0],S=w[1];Object(n.useLayoutEffect)((function(){if(t){t!==g&&(x(1),l([]));var e=function(){var e=Object(m.a)(u.a.mark((function e(){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(R),e.next=3,F(t,O);case 3:if(a=e.sent,n=a.hits,r=a.totalHits,0!==n.length||0!==r){e.next=9;break}return i.b.error("Oops nothing found"),e.abrupt("return");case 9:if(0!==n.length||0===r){e.next=12;break}return i.b.warning("Nothing more found"),e.abrupt("return");case 12:console.log(O),console.log(t),1===O&&i.b.success("Found ".concat(r," images")),h(t),l([].concat(Object(b.a)(c),Object(b.a)(n))),S(T);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t,g,O]);return Object(p.jsxs)(p.Fragment,{children:[I===q&&Object(p.jsx)("h2",{className:E.a.enterData,children:"Pixabay"}),I===R&&Object(p.jsx)(M,{}),(I===T||I===R)&&Object(p.jsx)(y,{imagesArray:c,openModal:a,loadMore:function(){x((function(e){return e+1}))}}),I===U&&i.b.error("Ooops")]})}var G=a(34),P=a(16),H=a.n(P),Q=document.querySelector("#modal-root");function V(e){var t=e.onClose,a=e.modalImg;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()},c=a.src,s=a.alt;return Object(o.createPortal)(Object(p.jsxs)("div",{className:H.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:[Object(p.jsx)("button",{type:"button",className:H.a.buttonClose,onClick:function(){return t()},children:Object(p.jsx)(G.a,{style:{color:"white",width:30,height:30}})}),Object(p.jsx)("div",{className:H.a.modal,children:Object(p.jsx)("img",{src:c,alt:s})})]}),Q)}var J=a(35),z=a.n(J),B=(a(27),a(36)),Z=a.n(B);function K(){return Object(p.jsx)(z.a,{showUnder:160,duration:500,style:{right:60,bottom:42},children:Object(p.jsx)("div",{className:Z.a.toTop})})}var W=a(37),X=a(10),Y=a.n(X);function $(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),o=r[0],c=r[1];return Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c("")):i.b.warning("Enter sth")},className:Y.a.searchForm,autoComplete:"off",children:[Object(p.jsx)("input",{className:Y.a.input,type:"text",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){c(e.currentTarget.value.toLowerCase())}}),Object(p.jsx)("button",{type:"submit",className:Y.a.button,children:Object(p.jsx)(W.a,{className:Y.a.searchIcon})})]})}var ee=a(38),te=a.n(ee);function ae(e){var t=e.onSubmit;return Object(p.jsx)("header",{className:te.a.searchbar,children:Object(p.jsx)($,{onSubmit:t})})}var ne=a(39),re=a.n(ne);function oe(e){var t=e.children;return Object(p.jsx)("section",{className:re.a.section,children:t})}function ce(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),c=Object(s.a)(o,2),l=c[0],u=c[1],b=Object(n.useState)({src:"",alt:""}),m=Object(s.a)(b,2),j=m[0],d=m[1],g=function(e,t){u(!l),d({src:e,alt:t})};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(oe,{children:Object(p.jsx)(ae,{onSubmit:function(e){r(e)}})}),Object(p.jsxs)(oe,{children:[Object(p.jsx)(A,{imageName:a,openModal:g}),Object(p.jsx)(K,{})]}),l&&Object(p.jsx)(V,{onClose:g,modalImg:j}),Object(p.jsx)(i.a,{autoClose:3e3})]})}a(85);c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(ce,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.d081cdce.chunk.js.map